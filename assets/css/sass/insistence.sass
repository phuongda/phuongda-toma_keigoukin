@import "core/mixin/_mixin"
@import "core/variable/_color"

.p-insistence

    .l-block-1

        &>.l-container
            max-width: 1056px

        .l-block__main

            img
                width: min(1000px, 100%)
    .l-block-2

        .l-works
            margin-top: -46px

.l-flow
    @include box-100()

.c-flow
    @include box-100()

    .gr-flow
        @include box-100()

    .item
        @include box()
        position: relative

        .l-contents
            flex-direction: column
            align-items: center
            position: relative

            &::before
                width: calc(var(--size) - 2px)
                height: calc(var(--size) - 2px)
                @include box()
                justify-content: center
                align-items: center
                background: white
                clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)
                font-size: 1.8rem
                font-weight: bold
                text-align: center
                text-indent: 2px
                color: var(--color-main)
                position: absolute
                z-index: 10

            &::after
                content: ""
                width: var(--size)
                height: var(--size)
                background: var(--color-main)
                clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)
                position: absolute
                z-index: 9

@media screen and (min-width: 581px)
    .p-insistence

        .c-flow
            --size: 60px
            --margin: 28px

            .gr-flow
                position: relative

                &:not(:last-child)
                    margin-bottom: 80px

                .item

                    &:nth-of-type(1)

                        &::before
                            content: ""
                            width: 150%
                            height: 1px
                            background: var(--color-main)
                            position: absolute
                            top: calc(var(--size) / 2)
                            left: 0
                            transform: translate(0, -50%)

                        .l-contents
                            transform: translate(-50%)

                    &:nth-of-type(3)

                        &::before
                            content: ""
                            width: 150%
                            height: 1px
                            background: var(--color-main)
                            position: absolute
                            top: calc(var(--size) / 2)
                            right: 0
                            transform: translate(0, -50%)

                        .l-contents
                            transform: translate(50%)

            .item
                width: calc(100% / 3)

                .l-contents
                    padding-top: calc(var(--size) + var(--margin))

                    &::before
                        top: 0
                        left: 50%
                        transform: translate(-50%, 0)

                    &::after
                        top: -1px
                        left: 50%
                        transform: translate(-50%, 0)

@media screen and (max-width: 1440px)
    .p-insistence

        .l-flow
            padding-left: 100px
            padding-right: 100px

@media screen and (max-width: 991px)
    .p-insistence

        .l-flow
            padding-left: 90px
            padding-right: 90px

@media screen and (max-width: 580px)
    .p-insistence

        .l-flow
            padding-top: 10px
            padding-left: 0
            padding-right: 0

            .c-flow
                width: auto
                flex-direction: column
                margin-left: auto
                margin-right: auto
                --size: 50px
                --margin: 20px
                position: relative

                .gr-flow
                    flex-direction: column
                    align-items: flex-start

                    &:last-child

                        .item

                            &:last-child
                                padding-bottom: 0

                                &::before
                                    display: none

                .item
                    padding-bottom: 35px

                    &::before
                        content: ""
                        width: 2px
                        height: 100%
                        background: var(--color-main)
                        position: absolute
                        top: 0
                        left: 0

                    .l-contents
                        align-items: flex-start
                        padding-left: calc((var(--size) / 2) + var(--margin))

                        &::before
                            left: calc(var(--size) / 2)
                            top: 15px
                            transform: translate(-100%, -50%)

                        &::after
                            left: calc((var(--size) / 2) + 1px)
                            top: 15px
                            transform: translate(-100%, -50%)
